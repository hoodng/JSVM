<html class="jsvm--full-h">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">  
	<title>J$VM Document</title>

	<script id="j$vm" type="text/javascript" src="../entry/jsvm.jsp?jrs.auth_uid=admin&jrs.auth_pwd=admin"
			crs="../../jsvm/" 
			classpath="lib/jsre-ui.jz;
					   lib/jsre-gks.jz;
					   lib/service.jz;
					   "></script> 

	<style>
	 __PSEUDO__ {background-color:gray;}
	 
	 body{
		 margin: 0px;
		 border: 0px none;
		 padding: 0px;
		 
	 }
	 
	 span {
		 cursor: default;
	 }
	</style>
  </head>
  
  <body class="jsvm--full-h jsvm--noborder jsvm--nomargin jsvm--nopadding jsvm--font jsvm__body" 
		jsvm_entry="demo">
	<div id="container" style="position:absolute;width:100%;height:100%;">
	</div>
  </body>
  
  <script type="text/javascript">
   J$VM.exec("JDemo", function(entryId){
	   var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, MQ = J$VM.MQ,
		   System = J$VM.System, Desktop = this.getDesktop(),
		   
		   div = document.getElementById("container");
	   
	   // step 1: Initialize Runtime env sepcially for application
	   var env = {
		   prefer: {dashboard:{theme: "default"}},
		   theme: "default"
	   };
	   this.initialize(env);
	   
	   // step 2: Register css files
	   Desktop.registerStyleFiles(["common.css", "wrptstudio.css", "report.css"]);
	   
	   var dom = new js.awt.Component({
		   css: "display:block;border:1px solid blue;",
		   width: 160, height: 20,
		   
		   x: 10, y: 10
		   
	   }, this);
	   
	   dom.appendTo(div);
	   
	   DOM.setAttribute(dom.view, "class", "testClassName");
	   System.err.println(dom.view.className);
	   System.err.println(DOM.getAttribute(dom.view, "class"));
	   
	   DOM.removeAttribute(dom.view, "class");
	   System.err.println(dom.view.className);
	   System.err.println(DOM.getAttribute(dom.view, "class"));
	   
	   var css = dom.view.style.cssText, 
		   styleMap = DOM.parseCssText(css);
	   System.err.println("\nCSSText:\n" + css);
	   System.err.println(styleMap);
	   System.err.println("Joined CSSText:\n" + DOM.joinMapToCssText(styleMap));
	   System.err.println("Removed border:\n" + DOM.rmStyleFromCssText(css, "border"));
	   
	   css = "width: 158px; height: 18px;	;;;";
	   styleMap = DOM.parseCssText(css);
	   System.err.println("\nCSSText:\n" + css);
	   System.err.println(styleMap);
	   System.err.println("Joined CSSText:\n" + DOM.joinMapToCssText(styleMap));
	   System.err.println("Removed border:\n" + DOM.rmStyleFromCssText(css, "border"));


       var className = "A B $A $B", ext = ["vline", "edge"];
       System.err.println(className + " + " + JSON.stringify(ext) 
               + " ==> " + DOM.combineClassName(className, ext, ""));

   });
  </script>

</html>

