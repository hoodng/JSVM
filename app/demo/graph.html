<!DOCTYPE HTML>
<html>
<head><meta http-equiv="X-UA-Compatible" content="IE=edge" />
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../../style/default/jsvm.css"/>
    <link rel="stylesheet" type="text/css" href="../../style/default/dashboard.css"/>
    <script id="j$vm" type="text/javascript" src="../../jsvm/jsre.js"></script>
    <script type="text/javascript" src="../../jsvm/lib/../jsre-ui.js"></script>

    <script type="text/javascript" src="../../jsvm/src/js/awt/Drawable.js"></script>
    <script type="text/javascript" src="../../jsvm/src/js/awt/Graphics2D.js"></script>

    <script type="text/javascript" src="../../jsvm/src/js/awt/CanvasRenderer.js"></script>
    <script type="text/javascript" src="../../jsvm/src/js/awt/SvgRenderer.js"></script>

    <script type="text/javascript" src="../../jsvm/src/js/awt/GraphicShape.js"></script>
    <script type="text/javascript" src="../../jsvm/src/js/awt/GraphicContainer.js"></script>

    <script type="text/javascript" src="../../jsvm/src/js/awt/GraphicGroup.js"></script> 
    <script type="text/javascript" src="../../jsvm/src/js/awt/GraphicLayer.js"></script>

    <script type="text/javascript" src="../../jsvm/src/js/awt/CanvasGroup.js"></script>    
    <script type="text/javascript" src="../../jsvm/src/js/awt/CanvasLayer.js"></script>
    <script type="text/javascript" src="../../jsvm/src/js/awt/SvgGroup.js"></script>    
    <script type="text/javascript" src="../../jsvm/src/js/awt/SvgLayer.js"></script>


    <script type="text/javascript">
        J$VM.exec("Demo",function(System){
            var Class = js.lang.Class, Base64 = Class.forName("js.util.Base64"),
            Color = Class.forName("js.awt.Color"),
            URI = Class.forName("js.net.URI");
            new Color(0,0,0,0);

            var G = new (Class.forName("js.awt.Graphics2D"))(
                      {
                         id: "MyGraph",
                         width: 400, height:400,
                         css: "border: 1px solid red; overflow: auto",
                         movable: false,
                         resizable: true,
                         miniSize:{width: 10, height:10},
                         angleUnit: "deg",
                         capture: true,
                         x:256, y:0,
                         gType: "canvas",

                      }, this);
        
            G.addComponent(new (Class.forName("js.awt.CanvasLayer"))({id: "myLayer", capture:true}, G));
            G.addComponent(new (Class.forName("js.awt.CanvasLayer"))({id: "myLayer0", capture:true}, G));

            G.getLayer("myLayer").appendChild(new (Class.forName("js.awt.CanvasGroup"))({id: "g1", x:300, y: 0, width: 200, height: 100, capture:true}, G));
		

            G.drawText({id:"text2",text: "Drop", fontSize: 16, x:380, y:120, width: 20, height:40, rotate: 90});

            var r = 16;
            var r1 = r; //r*Math.cos(Math.PI/4);
            G.drawCircle({cx:100, cy:210, r:r1, ends:4, rscale:1, offset:45, fillStyle:"#FF0000", strokeStyle: "#0000FF", fillStroke:2, lineWidth:1,angleUnit: "rad"});

            G.drawRPolygon({ cx:200, cy:210, r:r1, ends:8, rscale:0.1, offset:45, fillStyle:"#FF0000", strokeStyle: "#0000FF", fillStroke:1, lineWidth:1,angleUnit: "rad"});

            G.drawRPolygon({ cx:100, cy:210, r:r1, ends:16, rscale:0, offset:90, fillStyle:"#FF0000", strokeStyle: "#0000FF", fillStroke:1, lineWidth:1});

            G.drawRPolygon({ cx:100, cy:210, r:r1, ends:3, rscale:1, offset:90, fillStyle:"#FF0000", strokeStyle: "#0000FF", fillStroke:1, lineWidth:1});

            G.drawRPolygon({ cx:100, cy:210, r:r1, ends:4, rscale:1, offset:90, fillStyle:"#FF0000", strokeStyle: "#0000FF", fillStroke:2, lineWidth:1});
            
            G.drawImage({image:".vt?$=['webos','HttpProxyGetAction',{target:'http://www.baidu.com/img/bdlogo.gif'}]"});
            this.addComponent(G);
            G.draw();
        
            //G.setDataSize({w:8000, h:8000}, {w:800, h:800});

            var _onMouseEvents = function(e){
                var shape = e.getEventTarget();
		        System.err.println(shape.id+"---"+e.getType()+" "+e._bubble);
		    };
            /*
		    circle.attachEvent("mousedown", 4, this, _onMouseEvents);
		    circle.attachEvent("mouseup", 4, this, _onMouseEvents);
		    circle.attachEvent("mouseover", 4, this, _onMouseEvents);                  
            circle.attachEvent("mouseout", 4, this, _onMouseEvents);
            circle.attachEvent("mousemove", 4, this, _onMouseEvents);
            circle.attachEvent("click", 4, this, _onMouseEvents);
            circle.attachEvent("dblclick", 4, this, _onMouseEvents);

		    lineB.attachEvent("mousedown", 4, this, _onMouseEvents);
		    lineB.attachEvent("mouseup", 4, this, _onMouseEvents);
		    lineB.attachEvent("mouseover", 4, this, _onMouseEvents);                  
            lineB.attachEvent("mouseout", 4, this, _onMouseEvents);
            lineB.attachEvent("mousemove", 4, this, _onMouseEvents);
            lineB.attachEvent("click", 4, this, _onMouseEvents);
            lineB.attachEvent("dblclick", 4, this, _onMouseEvents);
            */
            

            //~ var count = 0;
            //~ (function(){
                //~ polygon.translate(1.5, -1.5);
                //~ circle.translate(0, 1.5);
                //~ text0.translate(1.5, 1.5);
                //~ text0.setAttr("fillStyle", Color.randomColor().toString("rgba"));
                //~ E0.rotate(30*Math.PI/180, 200, 200);
                //~ E1.rotate(-5*Math.PI/180, 200, 200);
                //~ //triangle3.setOffsetDegree(count);
                //~ T1.rotate(15*Math.PI/180, 300, 300);
                //~ T2.rotate(-5*Math.PI/180, 300, 300);
                //~ S1.setAttr("rscale", Math.abs(count-100)/90 -1);
                //~ S1.translate(-1, 0);
                //~ S3.setAttr("ends", 4+2*(count%15));
                //~ count ++;
                //~ if(count < 200){
                  //~ G.draw.$delay(G, 0, null, arguments.callee.$bind(this));
                //~ }
            //~ })();
            
        });
    </script>
</head>
<body>
<img id="my-image" width="256px" height="256px"></img>
</body>
</html>
