$package("js.awt");js.awt.Icon = function (def, Runtime) {var CLASS = js.awt.Icon, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System;thi$.setImage = function (image) {if (!this.useBgImage && Class.isString(image) && image != this.def.image) {this.def.image = image;var src = _buildImageSrc.call(this);if (src) {this.imageView.src = src;}}};thi$.setToolTipText = function (s) {arguments.callee.__super__.apply(this, arguments);DOM.setAttribute(this.imageView, "title", s);}.$override(this.setToolTipText);thi$.onStateChanged = function (e) {arguments.callee.__super__.apply(this, arguments);if (this.useBgImage) {this.imageView.src = _buildImageSrc.call(this);}}.$override(this.onStateChanged);thi$.doLayout = function () {if (this.isDOMElement()) {var M = this.def, box = this.getBounds(), D = DOM.getBounds(this.imageView), left, top;if (this.def.sizefixed !== true) {DOM.setBounds(this.imageView, box.paddingLeft, box.paddingTop, box.innerWidth, box.innerHeight);} else {left = box.paddingLeft + (box.innerWidth - D.width) * 0.5, top = box.paddingTop + (box.innerHeight - D.height) * 0.5;DOM.setPosition(this.imageView, left, top, D);}}}.$override(this.doLayout);thi$.destroy = function () {DOM.remove(this.imageView, true);delete this.imageView;arguments.callee.__super__.apply(this, arguments);}.$override(this.destroy);var _buildImageSrc = function (buf) {var image = this.def.image;if (!Class.isString(image) || image.length == 0) {image = "blank.gif";}buf = buf || this.__buf__;buf.clear();buf.append(this.Runtime().imagePath());if (!this.isStateless()) {buf.append(this.getState() & 15).append("-");}buf.append(image);return buf.toString();};thi$._init = function (def, Runtime) {if (def == undefined) {return;}var newDef = System.objectCopy(def, CLASS.DEFAULTDEF(), true, true);newDef.className = newDef.className || "jsvm_icon";var tip = newDef.tip;delete newDef.tip;System.objectCopy(newDef, def, true, true);arguments.callee.__super__.apply(this, arguments);var useBgImage = this.useBgImage = (def.useBgImage === true), viewType = useBgImage ? "DIV" : "IMG", image = this.imageView = DOM.createElement(viewType), buf = this.__buf__.clear();image.className = buf.append(this.def.className).append("_img");image.style.cssText = "position:absolute;margin:0px;";if (!useBgImage) {var src = _buildImageSrc.call(this, buf);if (src) {image.src = src;}}DOM.appendTo(image, this.view);if (Class.isString(tip) && tip.length > 0) {this.setToolTipText(tip);}}.$override(this._init);this._init.apply(this, arguments);}.$extend(js.awt.Component);js.awt.Icon.DEFAULTDEF = function () {return {classType:"js.awt.Icon", rigid_w:true, rigid_h:true, align_x:0.5, align_x:0.5};};