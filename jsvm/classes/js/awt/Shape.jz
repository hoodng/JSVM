$package("js.awt");js.awt.Shape = function (def, Runtime) {var CLASS = js.awt.Shape, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, System = J$VM.System, Color = Class.forName("js.awt.Color"), Matrix = Class.forName("js.math.Matrix"), TRANSFORM = {m11:1, m12:0, m21:0, m22:1, dx:0, dy:0}, sin = Math.sin, cos = Math.cos;thi$.colorKey = function () {return this._local.colorKey;};thi$.getLayer = function () {return this.getContainer();};thi$.setRelDrawFunc = function (func) {this.relDraw = func;};thi$.setHitDrawFunc = function (func) {this.hitDraw = func;};thi$.draw = function () {if (!this.isVisible()) {return;}if (Class.isFunction(this.relDraw)) {this.relDraw(this);}if (this.def.listenin === true && Class.isFunction(this.hitDraw)) {this.hitDraw(this);}};thi$.isFill = function () {return (this.def.fillStroke & 2) != 0;};thi$.isStroke = function () {return (this.def.fillStroke & 1) != 0;};thi$.getAttr = function (key) {var v = arguments.callee.__super__.apply(this, arguments), p;if (!v) {p = this.getContainer();v = p ? p.getAttr(key) : undefined;}return v;}.$override(this.getAttr);thi$.translate = function (dx, dy) {this.transform(1, 0, 0, 1, dx, dy);};thi$.scale = function (Sx, Sy, xF, yF) {xF = xF || 0, yF = yF || 0;this.transform(Sx, 0, 0, Sy, 0, (1 - Sx) * xF, (1 - Sy) * yF);};thi$.rotate = function (theta, xR, yR) {xR = xR || 0;yR = yR || 0;var a = theta;this.transform(cos(a), sin(a), -sin(a), cos(a), (1 - cos(a)) * xR + sin(a) * yR, -sin(a) * xR + (1 - cos(a)) * yR);};thi$.skew = function (Hx, Hy) {this.transform(1, Hy, Hx, 1, 0, 0);};thi$.transform = function (m11, m12, m21, m22, dx, dy) {var U = this._local, T0 = U.matrix, T1 = new Matrix({M:[[m11, m12, 0], [m21, m22, 0], [dx, dy, 1]]});U.matrix = Matrix.multiply(T0, T1);};thi$.setTransform = function (m11, m12, m21, m22, dx, dy) {var T0 = this.getMatrix();T0.Aij(0, 0, m11);T0.Aij(0, 1, m21);T0.Aij(0, 2, 0);T0.Aij(1, 0, m21);T0.Aij(1, 1, m22);T0.Aij(1, 2, 0);T0.Aij(2, 0, dx);T0.Aij(2, 1, dy);T0.Aij(2, 2, 1);};thi$.getTransform = function () {var T0 = this.getMatrix();return {m11:T0.Aij(0, 0), m12:T0.Aij(0, 1), m21:T0.Aij(1, 0), m22:T0.Aij(1, 1), dx:T0.Aij(2, 0), dy:T0.Aij(2, 1)};};thi$.getMatrix = function () {return this._local.matrix;};thi$.needLayout = function (force) {return false;};thi$.getPreferredSize = function () {return this.getSize();};thi$.getMinimumSize = function () {return this.getSize();};thi$.getMaximumSize = function () {return this.getSize();};thi$._init = function (def, Runtime) {if (def == undefined) {return;}def.classType = def.classType || "js.awt.Shape";var tmp;tmp = def.visible;def.visible = Class.isBoolean(tmp) ? tmp : true;tmp = def.fillStroke;def.fillStroke = Class.isNumber(tmp) ? tmp : 1;arguments.callee.__super__.apply(this, arguments);var M = this.def;if (Class.isFunction(M.relDraw)) {this.setRelDrawFunc(M.relDraw);}if (Class.isFunction(M.hitDraw)) {this.setHitDrawFunc(M.hitDraw);}var U = this._local;if (!Color.randomColor) {new Color(0, 0, 0);}U.colorKey = Color.randomColor("obj");U.colorKey.value |= (255 << 24);U.colorKey.rgba = U.colorKey.toString("rgba");U.matrix = new Matrix({M:[[1, 0, 0], [0, 1, 0], [0, 0, 1]]});}.$override(this._init);this._init.apply(this, arguments);}.$extend(js.awt.Element);