$package("js.awt");js.awt.Color = function (r, g, b, a) {var CLASS = js.awt.Color, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, System = J$VM.System;CLASS.DEFAULT_MIN_LUM = 180;CLASS.DEFAULT_MAX_LUM = 230;CLASS.RGB2HSL = function (R, G, B) {var vmax, vmin, delta;R = R / 255;G = G / 255;B = B / 255;vmin = Math.min(R, G, B);vmax = Math.max(R, G, B);delta = vmax - vmin;var h, s, l, dr, dg, db;l = (vmax + vmin) / 2;if (0 == delta) {h = 0;s = 0;} else {if (l < 0.5) {s = delta / (vmax + vmin);} else {s = delta / (2 - vmax - vmin);}dr = (((vmax - R) / 6) + (delta / 2)) / delta;dg = (((vmax - G) / 6) + (delta / 2)) / delta;db = (((vmax - B) / 6) + (delta / 2)) / delta;if (R == vmax) {h = db - dg;} else {if (G == vmax) {h = (1 / 3) + dr - db;} else {if (B == vmax) {h = (2 / 3) + dg - dr;}}}if (h < 0) {h += 1;}if (h > 1) {h -= 1;}}h = Math.round(h * 240);s = Math.round(s * 240);l = Math.round(l * 240);return {H:h, S:s, L:l};};CLASS.HSL2RGB = function (H, S, L) {H = H / 240;S = S / 240;L = L / 240;var r, g, b, temp1, temp2;if (S == 0) {r = L * 255;g = L * 255;b = L * 255;} else {if (L < 0.5) {temp2 = L * (1 + S);} else {temp2 = (L + S) - (S * L);}temp1 = 2 * L - temp2;r = 255 * _Hue2RGB(temp1, temp2, H + (1 / 3));g = 255 * _Hue2RGB(temp1, temp2, H);b = 255 * _Hue2RGB(temp1, temp2, H - (1 / 3));}r = Math.round(r);g = Math.round(g);b = Math.round(b);return {R:r, G:g, B:b};};var _Hue2RGB = function (v1, v2, vH) {if (vH < 0) {vH += 1;}if (vH > 1) {vH -= 1;}if ((6 * vH) < 1) {return v1 + (v2 - v1) * 6 * vH;}if ((2 * vH) < 1) {return v2;}if ((3 * vH) < 2) {return v1 + (v2 - v1) * ((2 / 3) - vH) * 6;}return v1;};CLASS.parseColorString = function (s) {var v = 4278190080;if (s.indexOf("#") == 0) {v = parseInt(s.substring(1), 16);} else {if (s.toLowerCase() == "transparent" || s.indexOf("rgba") == 0) {v = 255 << 24;} else {if (s.indexOf("rgb") == 0) {s = s.substring(s.indexOf("(") + 1, s.indexOf(")"));var arr = s.split(","), r = parseInt(arr[0]), g = parseInt(arr[1]), b = parseInt(arr[2]), a = parseInt(arr[3]) || 0;v = _makeValue(r, g, b, a);}}}return v;};CLASS.randomColor = function (type) {var uuid = js.lang.Math.uuid(), v = parseInt(uuid.substring(1), 16), c = new js.awt.Color(v), ret;if (c.A() == 0) {c.value |= 1 << 24;}type = type || "rgba";switch (type) {case "obj":ret = c;break;default:ret = c.toString(type);break;}return ret;};var _makeValue = function (r, g, b, a) {a = Class.isNumber(a) ? a : 0;return ((a & 255) << 24) | ((r & 255) << 16) | ((g & 255) << 8) | ((b & 255) << 0);};thi$.setRGBA = function (r, g, b, a) {this.value = _makeValue(r, g, b, a);};thi$.getRGB = function () {return this.value;};thi$.R = function () {return (this.value >> 16) & 255;};thi$.G = function () {return (this.value >> 8) & 255;};thi$.B = function () {return (this.value >> 0) & 255;};thi$.A = function () {return (this.value >> 24) & 255;};thi$.getHSL = function () {return CLASS.RGB2HSL(this.R(), this.G(), this.B());};thi$.toString = function (type) {var ret, buf;type = type || "hex";switch (type) {case "hex":if (this.A() != 0) {ret = "Transparent";} else {var temp = this.value & 16777215, s = "00000" + temp.toString(16);ret = "#" + s.substring(s.length - 6);}break;case "rgb":buf = new js.lang.StringBuffer("rgb(");buf.append(this.R()).append(",").append(this.G()).append(",").append(this.B()).append(")");ret = buf.toString();break;case "rgba":buf = new js.lang.StringBuffer("rgba(");buf.append(this.R()).append(",").append(this.G()).append(",").append(this.B()).append(",").append(this.A()).append(")");ret = buf.toString();break;}return ret;};thi$._init = function () {var s;switch (arguments.length) {case 1:s = arguments[0];if (Class.isNumber(s)) {this.value = s;} else {if (Class.isString(s)) {s = s.trim();this.value = CLASS.parseColorString(s);} else {this.value = 4278190080;}}break;case 3:case 4:this.setRGBA(arguments[0], arguments[1], arguments[2], arguments[3]);break;default:this.value = 4278190080;}};this._init.apply(this, arguments);};