$package("js.awt");$import("js.awt.shape.Arc");$import("js.awt.shape.Circle");$import("js.awt.shape.Ellipse");$import("js.awt.shape.Image");$import("js.awt.shape.Line");$import("js.awt.shape.Polygon");$import("js.awt.shape.Polyline");$import("js.awt.shape.Rect");$import("js.awt.shape.Text");js.awt.Graphics2D = function (def, Runtime, view) {var CLASS = js.awt.Graphics2D, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System, MQ = J$VM.MQ, PI = Math.PI, PI180 = PI / 180;CLASS.RAD = "rad";CLASS.DEG = "deg";CLASS.vertices2Rect = function (vs) {var i, len, p, x = [], y = [], mx, my, r = {};for (i = 0, len = vs.length; i < len; i++) {p = vs[i];x.push(p[0]);y.push(p[1]);}mx = Math.max.apply(Math, x);my = Math.max.apply(Math, y);r.x = Math.min.apply(Math, x);r.y = Math.min.apply(Math, y);r.width = mx - r.x;r.height = my - r.y;return r;};CLASS.deg2rad = function (d, u) {return (u === undefined || u === CLASS.RAD) ? d : d * PI180;};CLASS.rad2deg = function (r, u) {return (u === undefined || u === CLASS.RAD) ? r / PI180 : r;};thi$.drawArc = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Arc(data, this.Runtime()));};thi$.drawCircle = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Circle(data, this.Runtime()));};thi$.drawEllipse = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Ellipse(data, this.Runtime()));};thi$.drawImage = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Image(data, this.Runtime()));};thi$.drawLine = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Line(data, this.Runtime()));};thi$.drawPolyline = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Polyline(data, this.Runtime()));};thi$.drawPolygon = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Polygon(data, this.Runtime()));};thi$.drawRect = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Rect(data, this.Runtime()));};thi$.drawText = function (data) {var layer = this.curLayer();return layer.addShape(new js.awt.shape.Text(data, this.Runtime()));};thi$.measureText = function (text, font, layer) {layer = layer || this.curLayer();return layer.measureText(text, font);};thi$.curLayer = function (id) {var U = this._local;if (id && this[id]) {U.curLayer = id;}return this.getLayer(U.curLayer);};thi$.getLayer = function (id) {return this[id];};thi$.cachedShapes = function () {return this._local.shapes;};thi$.destroy = function () {arguments.callee.__super__.apply(this, arguments);}.$override(this.destroy);thi$._init = function (def, Runtime) {if (def == undefined) {return;}def.classType = def.classType || "js.awt.Graphics2D";def.className = def.className || "jsvm_graphic";def.items = def.items || [];if (def.items.length == 0) {def.items.push("layer0");def.layer0 = {id:"layer0", classType:def.layer || "js.awt.CanvasLayer", className:"jsvm_graphlayer", x:0, y:0, z:0, width:300, height:150};}def.layout = def.layout || {classType:"js.awt.SuffuseLayout"};arguments.callee.__super__.apply(this, arguments);var U = this._local, itemIds = this.items0();U.curLayer = itemIds[itemIds.length - 1];U.shapes = {};}.$override(this._init);this._init.apply(this, arguments);}.$extend(js.awt.Container);