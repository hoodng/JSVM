$package("js.util");js.util.StyleSheet = function (nativeSheet) {var CLASS = js.util.StyleSheet, thi$ = CLASS.prototype;if (CLASS.__defined__) {this._init.apply(this, arguments);return;}CLASS.__defined__ = true;var Class = js.lang.Class, Event = js.util.Event, DOM = J$VM.DOM, System = J$VM.System;CLASS.styleToString = function (style) {var p, v, ret = [];if (Class.isObject(style)) {for (p in style) {v = style[p];p = DOM.hyphenName(p);ret.push(p, ":", v, ";");}}return ret.join("");};thi$.getRule = function (selector) {var rule = this.rules[selector];if (!rule) {}};thi$.addRule = function (name, style) {var sheet = this.sheet, rules = sheet.cssRules || sheet.rules, cssText = CLASS.styleToString(style);if (sheet.addRule) {sheet.addRule(name, cssText);} else {sheet.insertRule([name, "{", cssText, "}"].join(""), sheet.cssRules.length - 1);}this.rules[name] = rules[rules.length - 1].style;};thi$.delRule = function (selector) {var sheet = this.sheet;delete this.rules[selector];};var _parseSheet = function (sheet, rules) {var cssrules = sheet.cssRules || sheet.rules, rule, i, len, selector, tmpA, j, jn;for (i = 0, len = cssrules.length; i < len; i++) {rule = cssrules[i];tmpA = rule.selectorText.split(",");for (j = 0, jn = tmpA.length; j < jn; j++) {selector = tmpA[j].trim();if (selector.length > 0) {rules[selector] = {selector:selector, style:rule.style};}}}};thi$.destroy = function () {delete this.sheet;delete this.rules;arguments.callee.__super__.apply(this, arguments);}.$override(this.destroy);thi$._init = function (nativeSheet) {this.sheet = nativeSheet;this.name = nativeSheet.title;this.rules = {};_parseSheet.call(this, nativeSheet, this.rules);};this._init.apply(this, arguments);}.$extend(js.lang.Object);